pico-8 cartridge // http://www.pico-8.com
version 18
__lua__

-- written by Adam Richardson

function _init()
  t,f,s=0,1,20 --tick,frame,step
  sp={2,3} --sprites
  x=18
  pb={x=21,y=116,r=0,h=3,w=1,s=3}
end

function _update60()
  t=(t+1)%s
  if (t==0) then
    f=f%#sp+1
  end
  if (btn(0)) then
    x-=1
    x=max(x,0)
  end
		
  if (btn(1)) then
    x+=1
    x=min(x,120)
  end

  if (btn(4)) then
    if(pb.r==0) then
      sfx(0)
      pb.r=1
      pb.x = x+3
      pb.y = 116
    end
  end

  if (pb.r!=0) then
    pb.y-=pb.s
    if(pb.y<(-1*pb.h)) then
      pb.r=0
    end
  end
  
end

function _draw()
  cls(2)
  for j=1,5 do
    for i=1,8 do
      spr(sp[f],18+(i-1)*12,(j-1)*12+18)
    end
  end

  spr(4,x,118)
  if(pb.r!=0) then
    rectfill(pb.x,pb.y,pb.x+pb.w,pb.y+pb.h,7)
  end
end

__gfx__
00000000000000000070070000700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000007700070077007000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000077770070777707000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007707707777077077000770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007777777777777777077777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000007077770707777770077777700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000700007007000070777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000070070070000007777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100001f050260502b050000000000000000000000000000000000001e000230002d0002b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
