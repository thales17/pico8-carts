pico-8 cartridge // http://www.pico-8.com
version 22
__lua__
-- DOOMFIRE
-- written by Adam Richardson

function _init()
	cls()
	for x=1,128 do
		pset(x-0,127,7)
		pset(x-0,126,7)
		pset(x-0,125,7)
	end
	colors = {
		0,
		5,
		2,
		13,
		1,
		10,
		15,
		4,
		14,
		9,
		3,
		11,
		12,
		8,
		6,
	}
end

function spread(x,y)
	local p = pget(x,y)
	if(p == 0) then
		pset(x,y-1,0)
	else
		local src = (y*128)+x
		local r = band(rnd(3),3)
		local dst = src - r + 1
		local xx = dst % 128
		local yy = dst / 128
		local c = p-band(r,1)
		pset(xx,yy-1,colors[c]) 
	end
end

function _update60()
	for x=0,128 do
		for y=1,128 do
			spread(x,y)
		end
	end
end

function _draw()
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
